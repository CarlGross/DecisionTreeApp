{% extends 'base.html' %}
{% block head %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="{{url_for('static', filename='js/png.js')}}"></script>
{% endblock %}
    {% macro render_node(node) %}
        {% set r = 255 - node.off_realistic * 65 %}
        <ul>
            <li style="color: rgb({{ r }}, 0, 0);">
                
                <b>{{ node.scenario }}</b>
                
                {% if node.best %}
                {{ render_node(node.best) }}
                {% endif %}
                {% if node.realistic %}
                {{ render_node(node.realistic) }}
                {% endif %}
                {% if node.worst %}
                {{ render_node(node.worst) }}
                {% endif %}
            </li>
        </ul>

    {% endmacro %}

{% block body %}
    
    <h1>Tree: {{root.scenario}}</h1>
    <button id="pngButton" onclick="downloadPNG('{{root.scenario}}_Tree.png')">Dowload PNG</button>
    {{ render_node(root) }}
        
{% endblock %}
